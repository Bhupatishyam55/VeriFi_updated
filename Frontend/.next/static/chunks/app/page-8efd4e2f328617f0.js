(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{40223:function(e,t,s){Promise.resolve().then(s.bind(s,45634))},45634:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return R}});var a=s(57437),n=s(2265),l=s(50091),i=s(82800),r=s(76865),c=s(32795),d=s(91723),o=s(70525),x=s(88906),u=s(93448);let m={default:{icon:"bg-navy-700 text-navy-300",glow:""},gold:{icon:"bg-gold-400/20 text-gold-400",glow:"hover:shadow-glow-gold"},danger:{icon:"bg-danger-500/20 text-danger-400",glow:"hover:shadow-glow-danger"},success:{icon:"bg-success-500/20 text-success-400",glow:""}};function h(e){let{title:t,value:s,subtitle:n,icon:l,trend:i,variant:r="default"}=e,c=m[r];return(0,a.jsxs)("div",{className:(0,u.cn)("stat-card group transition-all duration-300 hover:border-navy-600",c.glow),children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-gold-400/5 to-transparent rounded-full blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsx)("div",{className:(0,u.cn)("p-3 rounded-xl",c.icon),children:(0,a.jsx)(l,{className:"w-6 h-6"})}),i&&(0,a.jsxs)("div",{className:(0,u.cn)("flex items-center gap-1 text-sm font-medium px-2 py-1 rounded-lg",i.isPositive?"text-success-400 bg-success-500/10":"text-danger-400 bg-danger-500/10"),children:[(0,a.jsx)("span",{children:i.isPositive?"↑":"↓"}),(0,a.jsxs)("span",{children:[Math.abs(i.value),"%"]})]})]}),(0,a.jsx)("p",{className:"text-navy-400 text-sm font-medium mb-1",children:t}),(0,a.jsx)("p",{className:"text-3xl font-display font-bold text-white",children:s}),n&&(0,a.jsx)("p",{className:"text-navy-500 text-sm mt-1",children:n})]})]})}var f=s(47625),p=s(48508),g=s(56940),v=s(97059),j=s(62994),b=s(8147),y=s(69349),N=s(55873);function w(){let[e,t]=(0,n.useState)([]),[s,l]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{(async function(){t(await (0,N.W$)()),l(!1)})()},[]),s)?(0,a.jsx)("div",{className:"glass-card p-6 h-[400px] flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-gold-400 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("p",{className:"text-navy-400 text-sm",children:"Loading chart data..."})]})}):(0,a.jsxs)("div",{className:"glass-card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Uploads vs Fraud Detection"}),(0,a.jsx)("p",{className:"text-sm text-navy-400 mt-1",children:"Document analysis over the last 7 days"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-gold-400"}),(0,a.jsx)("span",{className:"text-sm text-navy-400",children:"Uploads"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-danger-400"}),(0,a.jsx)("span",{className:"text-sm text-navy-400",children:"Fraud Detected"})]})]})]}),(0,a.jsx)("div",{className:"h-[300px]",children:(0,a.jsx)(f.h,{width:"100%",height:"100%",children:(0,a.jsxs)(p.v,{data:e,barGap:8,children:[(0,a.jsx)(g.q,{strokeDasharray:"3 3",stroke:"#1e293b"}),(0,a.jsx)(v.K,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12}}),(0,a.jsx)(j.B,{yAxisId:"left",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12}}),(0,a.jsx)(j.B,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12}}),(0,a.jsx)(b.u,{contentStyle:{backgroundColor:"#0f172a",border:"1px solid #334155",borderRadius:"12px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},labelStyle:{color:"#f8fafc"},itemStyle:{color:"#94a3b8"}}),(0,a.jsx)(y.$,{yAxisId:"left",dataKey:"uploads",fill:"#fbbf24",radius:[4,4,0,0],name:"Uploads"}),(0,a.jsx)(y.$,{yAxisId:"right",dataKey:"fraud",fill:"#ef4444",radius:[4,4,0,0],name:"Fraud Detected"})]})})})]})}var S=s(76858),_=s(48736);let k={safe:{label:"Safe",className:"badge-safe"},warning:{label:"Warning",className:"badge-warning"},critical:{label:"Critical",className:"badge-critical"}},C={sm:"px-2 py-0.5 text-[10px]",md:"px-3 py-1 text-xs",lg:"px-4 py-1.5 text-sm"};function D(e){let{status:t,size:s="md"}=e,n=k[t];return(0,a.jsx)("span",{className:(0,u.cn)(n.className,C[s]),children:n.label})}var E=s(27648);function F(){let[e,t]=(0,n.useState)([]),[s,l]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{(async function(){t(await (0,N.N0)()),l(!1)})();let e=setInterval(async()=>{t(await (0,N.N0)())},3e4);return()=>clearInterval(e)},[]),s)?(0,a.jsxs)("div",{className:"glass-card p-6 h-full",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Live Activity Feed"})}),(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3,4].map(e=>(0,a.jsxs)("div",{className:"animate-pulse flex items-center gap-4 p-4 bg-navy-800/30 rounded-xl",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-navy-700 rounded-lg"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"h-4 bg-navy-700 rounded w-3/4 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-navy-700 rounded w-1/2"})]})]},e))})]}):(0,a.jsxs)("div",{className:"glass-card p-6 h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Live Activity Feed"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 px-2 py-1 bg-success-500/10 rounded-full",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-success-400 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-xs text-success-400 font-medium",children:"Live"})]})]}),(0,a.jsxs)(E.default,{href:"/upload",className:"text-sm text-gold-400 hover:text-gold-300 font-medium flex items-center gap-1 transition-colors",children:["View All",(0,a.jsx)(S.Z,{className:"w-4 h-4"})]})]}),(0,a.jsx)("div",{className:"flex-1 space-y-3 overflow-y-auto",children:e.map((e,t)=>(0,a.jsxs)(E.default,{href:"/results/".concat(e.id),className:(0,u.cn)("flex items-center gap-4 p-4 rounded-xl transition-all duration-300","bg-navy-800/30 hover:bg-navy-800/50 border border-transparent hover:border-navy-700","cursor-pointer group"),style:{animationDelay:"".concat(50*t,"ms")},children:[(0,a.jsx)("div",{className:(0,u.cn)("w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0","safe"===e.status&&"bg-success-500/10","warning"===e.status&&"bg-warning-500/10","critical"===e.status&&"bg-danger-500/10"),children:(0,a.jsx)(_.Z,{className:(0,u.cn)("w-5 h-5","safe"===e.status&&"text-success-400","warning"===e.status&&"text-warning-400","critical"===e.status&&"text-danger-400")})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white truncate group-hover:text-gold-400 transition-colors",children:e.filename}),(0,a.jsx)(D,{status:e.status,size:"sm"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)("p",{className:"text-xs text-navy-400 truncate",children:e.department}),(0,a.jsx)("span",{className:"text-navy-600",children:"•"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-navy-500",children:[(0,a.jsx)(d.Z,{className:"w-3 h-3"}),function(e){let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/6e4);if(s<1)return"Just now";if(s<60)return"".concat(s," min ago");let a=Math.floor(s/60);return a<24?"".concat(a," hour").concat(a>1?"s":""," ago"):"".concat(Math.floor(a/24)," day").concat(a>=48?"s":""," ago")}(e.scanned_at)]})]})]}),(0,a.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,a.jsxs)("p",{className:(0,u.cn)("text-lg font-bold","safe"===e.status&&"text-success-400","warning"===e.status&&"text-warning-400","critical"===e.status&&"text-danger-400"),children:[e.fraud_score,"%"]}),(0,a.jsx)("p",{className:"text-xs text-navy-500",children:"Risk Score"})]})]},e.id))})]})}var L=s(98605),M=s(90740),Z=s(32489),A=s(30401);function P(e){let{filters:t,onFilterChange:s,className:l}=e,[i,r]=(0,n.useState)({}),[c,d]=(0,n.useState)(!1),o=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"multiple";r(n=>{let l;let i=n[e]||[];l="single"===a?i.includes(t)?[]:[t]:i.includes(t)?i.filter(e=>e!==t):[...i,t];let r={...n};return l.length>0?r[e]=l:delete r[e],s&&s(r),r})},x=Object.values(i).reduce((e,t)=>e+((null==t?void 0:t.length)||0),0);return(0,a.jsxs)("div",{className:(0,u.cn)("relative",l),children:[(0,a.jsxs)("button",{onClick:()=>d(!c),className:"flex items-center gap-2 px-4 py-2 bg-navy-800/50 border border-navy-700 rounded-xl text-navy-300 hover:text-white hover:border-gold-400/30 transition-all duration-300","aria-label":"Toggle filters",children:[(0,a.jsx)(M.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Filters"}),x>0&&(0,a.jsx)("span",{className:"px-2 py-0.5 bg-gold-400 text-navy-900 text-xs font-bold rounded-full",children:x})]}),c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1),"aria-hidden":"true"}),(0,a.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-80 glass-card border border-navy-700 rounded-2xl shadow-2xl z-50 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-white",children:"Filter Options"}),(0,a.jsx)("button",{onClick:()=>d(!1),className:"p-1 text-navy-400 hover:text-white transition-colors","aria-label":"Close filters",children:(0,a.jsx)(Z.Z,{className:"w-4 h-4"})})]}),(0,a.jsx)("div",{className:"space-y-6 max-h-96 overflow-y-auto",children:t.map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-navy-300 mb-3",children:e.label}),(0,a.jsx)("div",{className:"space-y-2",children:e.options.map(t=>{var s;let n=null===(s=i[e.id])||void 0===s?void 0:s.includes(String(t.value));return(0,a.jsxs)("button",{onClick:()=>o(e.id,String(t.value),e.type),className:(0,u.cn)("w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors text-left",n?"bg-gold-400/10 border border-gold-400/30 text-gold-400":"bg-navy-800/30 border border-transparent text-navy-300 hover:bg-navy-800/50 hover:text-white"),children:[(0,a.jsx)("span",{className:"text-sm",children:t.label}),n&&(0,a.jsx)(A.Z,{className:"w-4 h-4"})]},t.id)})})]},e.id))}),x>0&&(0,a.jsx)("button",{onClick:()=>{r({}),s&&s({})},className:"w-full mt-4 px-4 py-2 text-sm text-danger-400 hover:text-danger-300 hover:bg-danger-500/10 rounded-lg transition-colors",children:"Clear All Filters"})]})]})]})}var I=s(71397),O=s(71837);function R(){let[e,t]=(0,n.useState)(null),[s,m]=(0,n.useState)(!0),[f,p]=(0,n.useState)({});return(0,n.useEffect)(()=>{(async function(){try{let e=await (0,O.TH)();t(e)}finally{m(!1)}})()},[]),(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,a.jsx)(L.O,{items:[{label:"Dashboard"}]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-display font-bold text-white",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-navy-400 mt-1",children:"Real-time monitoring of document validation and fraud detection"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,a.jsx)(P,{filters:[{id:"severity",label:"Severity",type:"multiple",options:[{id:"safe",label:"Safe",value:"safe"},{id:"warning",label:"Warning",value:"warning"},{id:"critical",label:"Critical",value:"critical"}]},{id:"status",label:"Status",type:"multiple",options:[{id:"completed",label:"Completed",value:"completed"},{id:"pending",label:"Pending",value:"pending"},{id:"processing",label:"Processing",value:"processing"}]}],onFilterChange:p}),e&&(0,a.jsx)(I.j,{data:e,filename:"dashboard-stats",variant:"ghost"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 glass-card",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 text-gold-400"}),(0,a.jsxs)("span",{className:"text-sm text-navy-300",children:["Processing ",(0,a.jsx)("span",{className:"text-gold-400 font-semibold",children:"70TB"})," of Records"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 glass-card",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-success-400 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-sm text-navy-300",children:"System Online"})]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s?(0,a.jsx)(a.Fragment,{children:[1,2,3,4].map(e=>(0,a.jsxs)("div",{className:"stat-card animate-pulse",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-navy-700 rounded-xl mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-navy-700 rounded w-1/2 mb-2"}),(0,a.jsx)("div",{className:"h-8 bg-navy-700 rounded w-3/4"})]},e))}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h,{title:"Total Scanned",value:(0,u.uf)((null==e?void 0:e.total_scanned)||0),subtitle:"Documents processed",icon:i.Z,trend:{value:12.5,isPositive:!0},variant:"gold"}),(0,a.jsx)(h,{title:"Fraud Detected",value:(null==e?void 0:e.fraud_detected)||0,subtitle:"Suspicious documents",icon:r.Z,trend:{value:8.2,isPositive:!1},variant:"danger"}),(0,a.jsx)(h,{title:"Total Savings",value:(0,u.xG)((null==e?void 0:e.total_savings)||0),subtitle:"Prevented losses",icon:c.Z,trend:{value:23.1,isPositive:!0},variant:"success"}),(0,a.jsx)(h,{title:"Pending Review",value:(null==e?void 0:e.pending_review)||0,subtitle:"Awaiting action",icon:d.Z,variant:"default"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"glass-card p-6 flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-gold-400/20 to-gold-400/5 flex items-center justify-center",children:(0,a.jsx)(o.Z,{className:"w-7 h-7 text-gold-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-navy-400",children:"Detection Accuracy"}),(0,a.jsxs)("p",{className:"text-2xl font-display font-bold text-white",children:[(null==e?void 0:e.accuracy_rate)||99.7,"%"]})]})]}),(0,a.jsxs)("div",{className:"glass-card p-6 flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-success-400/20 to-success-400/5 flex items-center justify-center",children:(0,a.jsx)(x.Z,{className:"w-7 h-7 text-success-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-navy-400",children:"Protected Transactions"}),(0,a.jsx)("p",{className:"text-2xl font-display font-bold text-white",children:(0,u.uf)((null==e?void 0:e.total_scanned)?2.5*e.total_scanned:35500)})]})]}),(0,a.jsxs)("div",{className:"glass-card p-6 flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-400/20 to-blue-400/5 flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"w-7 h-7 text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-navy-400",children:"Database Coverage"}),(0,a.jsx)("p",{className:"text-2xl font-display font-bold text-white",children:"70 TB"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsx)(w,{})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(F,{})})]}),(0,a.jsxs)("div",{className:"glass-card p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Critical Alerts"}),(0,a.jsx)("div",{className:"space-y-3",children:[{id:1,title:"Duplicate Invoice Detected",description:"Invoice #INV-2024-5521 matches existing record from March 2024",department:"Treasury Department",time:"5 min ago",amount:"₹45,00,000"},{id:2,title:"Forged Signature Alert",description:"Pixel alteration detected in Contract #CON-2024-1102",department:"Public Works",time:"23 min ago",amount:"₹12,50,000"},{id:3,title:"Vendor Blacklist Match",description:"GST number linked to blacklisted entity in Bill #BIL-2024-8834",department:"Health Services",time:"1 hour ago",amount:"₹8,75,000"}].map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-danger-500/5 border border-danger-500/20 rounded-xl hover:bg-danger-500/10 transition-colors cursor-pointer",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-danger-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(r.Z,{className:"w-5 h-5 text-danger-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"font-medium text-white",children:e.title}),(0,a.jsx)("span",{className:"badge-critical",children:e.amount})]}),(0,a.jsx)("p",{className:"text-sm text-navy-400 mt-0.5",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-xs text-navy-500",children:[(0,a.jsx)("span",{children:e.department}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:e.time})]})]})]},e.id))})]})]})}},98605:function(e,t,s){"use strict";s.d(t,{O:function(){return o}});var a=s(57437),n=s(2265),l=s(27648),i=s(99376),r=s(14938),c=s(10407),d=s(93448);function o(e){let{items:t,className:s}=e,o=(0,i.usePathname)(),x=t||(()=>{let e=o.split("/").filter(Boolean),t=[{label:"Dashboard",href:"/"}];return e.forEach((s,a)=>{let n="/"+e.slice(0,a+1).join("/"),l=s.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");t.push({label:l,href:n})}),t})();return(0,a.jsxs)("nav",{"aria-label":"Breadcrumb",className:(0,d.cn)("flex items-center gap-2 text-sm",s),children:[(0,a.jsx)(l.default,{href:"/",className:"flex items-center gap-1 text-navy-400 hover:text-gold-400 transition-colors","aria-label":"Home",children:(0,a.jsx)(r.Z,{className:"w-4 h-4"})}),x.map((e,t)=>{let s=t===x.length-1;return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 text-navy-600","aria-hidden":"true"}),s?(0,a.jsx)("span",{className:"text-white font-medium","aria-current":"page",children:e.label}):(0,a.jsx)(l.default,{href:e.href||"#",className:"text-navy-400 hover:text-gold-400 transition-colors",children:e.label})]},t)})]})}},71397:function(e,t,s){"use strict";s.d(t,{j:function(){return o}});var a=s(57437),n=s(2265),l=s(51817),i=s(92735),r=s(61649),c=s(48736),d=s(93448);function o(e){let{data:t,filename:s="export",className:o,variant:x="default"}=e,[u,m]=(0,n.useState)(!1),[h,f]=(0,n.useState)(!1),p=(0,n.useRef)(null),g=(0,n.useRef)(null),v=()=>null!=t||(alert("No data available to export."),!1);(0,n.useEffect)(()=>{function e(e){p.current&&g.current&&!p.current.contains(e.target)&&!g.current.contains(e.target)&&f(!1)}return h&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[h]);let j=e=>{v()&&(f(!1),e())},b=()=>{if(!v())return;m(!0);let e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download="".concat(s,".json"),n.click(),URL.revokeObjectURL(a),m(!1)},y=()=>{if(v()){m(!0);try{let e="";if(Array.isArray(t)){if(t.length>0){let s=Object.keys(t[0]);e+=s.join(",")+"\n",t.forEach(t=>{e+=s.map(e=>{let s=t[e];return"string"==typeof s&&(s.includes(",")||s.includes('"'))?'"'.concat(s.replace(/"/g,'""'),'"'):null!=s?s:""}).join(",")+"\n"})}}else"object"==typeof t&&(e="Key,Value\n",Object.entries(t).forEach(t=>{let[s,a]=t;e+="".concat(s,",").concat(a,"\n")}));let a=new Blob([e],{type:"text/csv"}),n=URL.createObjectURL(a),l=document.createElement("a");l.href=n,l.download="".concat(s,".csv"),l.click(),URL.revokeObjectURL(n)}catch(e){console.error("CSV export failed:",e)}m(!1)}},N=async()=>{if(!v())return;m(!0);let e=window.open("","_blank");e&&(e.document.write("\n        <html>\n          <head>\n            <title>".concat(s,"</title>\n            <style>\n              body { font-family: Arial, sans-serif; padding: 20px; }\n              table { width: 100%; border-collapse: collapse; margin-top: 20px; }\n              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n              th { background-color: #0f172a; color: white; }\n            </style>\n          </head>\n          <body>\n            <h1>").concat(s,"</h1>\n            <pre>").concat(JSON.stringify(t,null,2),"</pre>\n          </body>\n        </html>\n      ")),e.document.close(),e.print()),m(!1)};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{ref:g,onClick:()=>!u&&f(!h),className:(0,d.cn)("flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300","default"===x?"btn-primary":"btn-ghost",u&&"opacity-50 cursor-not-allowed",o),disabled:u,"aria-label":"Export options","aria-expanded":h,children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 animate-spin"}),(0,a.jsx)("span",{children:"Exporting..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Export"})]})}),h&&!u&&(0,a.jsxs)("div",{ref:p,className:"absolute right-0 top-full mt-2 w-48 glass-card border border-navy-700 rounded-xl shadow-2xl overflow-hidden z-50 animate-fade-in",children:[(0,a.jsxs)("button",{onClick:()=>j(y),className:"w-full flex items-center gap-3 px-4 py-3 text-left text-navy-300 hover:bg-navy-800/50 hover:text-white transition-colors",children:[(0,a.jsx)(r.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Export as CSV"})]}),(0,a.jsxs)("button",{onClick:()=>j(b),className:"w-full flex items-center gap-3 px-4 py-3 text-left text-navy-300 hover:bg-navy-800/50 hover:text-white transition-colors",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Export as JSON"})]}),(0,a.jsxs)("button",{onClick:()=>j(N),className:"w-full flex items-center gap-3 px-4 py-3 text-left text-navy-300 hover:bg-navy-800/50 hover:text-white transition-colors",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Export as PDF"})]})]})]})}},71837:function(e,t,s){"use strict";s.d(t,{TH:function(){return n},gc:function(){return l}});let a=s(40257).env.NEXT_PUBLIC_API_BASE||"http://localhost:8000/api/v1";async function n(){var e,t,s,n,l;let i=await fetch("".concat(a,"/dashboard/stats"));if(!i.ok)throw Error("Failed to load dashboard stats");let r=await i.json(),c=r.summary||{};return{total_scanned:null!==(e=c.total_scanned)&&void 0!==e?e:0,fraud_detected:null!==(t=c.fraud_detected)&&void 0!==t?t:0,total_savings:(null!==(s=c.savings_in_crores)&&void 0!==s?s:0)*1e7,pending_review:12,accuracy_rate:99.7,weekly_activity:null!==(n=r.weekly_activity)&&void 0!==n?n:[],recent_scans:null!==(l=r.recent_scans)&&void 0!==l?l:[]}}async function l(e){let t=await fetch("".concat(a,"/scan/result/").concat(e));if(!t.ok)throw Error("Failed to fetch scan result");return t.json()}},55873:function(e,t,s){"use strict";s.d(t,{N0:function(){return i},W$:function(){return l},pz:function(){return n}});var a=s(49360);function n(e){let t=localStorage.getItem("scan_result_".concat(e));return t?JSON.parse(t):{file_id:e,filename:"invoice_demo.pdf",status:"completed",fraud_score:88,severity:"CRITICAL",is_duplicate:!0,duplicate_source_id:"doc-5510",anomalies:[{type:"Metadata Mismatch",description:"Creation date is in the future",confidence:.98},{type:"Forged Signature",description:"Pixel alteration detected around signature area",confidence:.92}],scanned_at:new Date().toISOString(),processing_time:3e3}}async function l(){await new Promise(e=>setTimeout(e,300));let e=new Date,t=[];for(let s=6;s>=0;s--){let a=new Date(e);a.setDate(a.getDate()-s);let n=Math.floor(300*Math.random())+150,l=Math.floor(8*Math.random())+2;t.push({date:a.toLocaleDateString("en-IN",{weekday:"short",day:"numeric"}),uploads:n,fraud:l})}return t}async function i(){await new Promise(e=>setTimeout(e,400));let e=["Treasury Department","Public Works","Health Services","Education Board","Revenue Department","Municipal Corp","Water Resources","Transport Authority"],t=["Invoice","Contract","Receipt","Agreement","Bill","Voucher"],s=[];for(let n=0;n<8;n++){let n;let l=Math.floor(100*Math.random());n=l<30?"safe":l<70?"warning":"critical";let i=new Date;i.setMinutes(i.getMinutes()-Math.floor(120*Math.random())),s.push({id:(0,a.Z)(),filename:"".concat(t[Math.floor(Math.random()*t.length)],"_").concat(Math.floor(9e3*Math.random())+1e3,".pdf"),department:e[Math.floor(Math.random()*e.length)],status:n,fraud_score:l,scanned_at:i.toISOString()})}return s.sort((e,t)=>new Date(t.scanned_at).getTime()-new Date(e.scanned_at).getTime())}},93448:function(e,t,s){"use strict";s.d(t,{cn:function(){return l},uf:function(){return r},xG:function(){return i}});var a=s(61994),n=s(53335);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,a.W)(t))}function i(e){return e>=1e7?"₹".concat((e/1e7).toFixed(1),"Cr"):e>=1e5?"₹".concat((e/1e5).toFixed(1),"L"):e>=1e3?"₹".concat((e/1e3).toFixed(1),"K"):"₹".concat(e)}function r(e){return new Intl.NumberFormat("en-IN").format(e)}}},function(e){e.O(0,[615,380,664,971,117,744],function(){return e(e.s=40223)}),_N_E=e.O()}]);